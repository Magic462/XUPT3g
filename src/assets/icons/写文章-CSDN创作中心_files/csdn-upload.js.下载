!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){t.exports=function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(t,e){var r=t[0],n=t[1],o=t[2],a=t[3];n=((n+=((o=((o+=((a=((a+=((r=((r+=(n&o|~n&a)+e[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&o)+e[1]-389564586|0)<<12|a>>>20)+r|0)&r|~a&n)+e[2]+606105819|0)<<17|o>>>15)+a|0)&a|~o&r)+e[3]-1044525330|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n&o|~n&a)+e[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&o)+e[5]+1200080426|0)<<12|a>>>20)+r|0)&r|~a&n)+e[6]-1473231341|0)<<17|o>>>15)+a|0)&a|~o&r)+e[7]-45705983|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n&o|~n&a)+e[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&o)+e[9]-1958414417|0)<<12|a>>>20)+r|0)&r|~a&n)+e[10]-42063|0)<<17|o>>>15)+a|0)&a|~o&r)+e[11]-1990404162|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n&o|~n&a)+e[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&o)+e[13]-40341101|0)<<12|a>>>20)+r|0)&r|~a&n)+e[14]-1502002290|0)<<17|o>>>15)+a|0)&a|~o&r)+e[15]+1236535329|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n&a|o&~a)+e[1]-165796510|0)<<5|r>>>27)+n|0)&o|n&~o)+e[6]-1069501632|0)<<9|a>>>23)+r|0)&n|r&~n)+e[11]+643717713|0)<<14|o>>>18)+a|0)&r|a&~r)+e[0]-373897302|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n&a|o&~a)+e[5]-701558691|0)<<5|r>>>27)+n|0)&o|n&~o)+e[10]+38016083|0)<<9|a>>>23)+r|0)&n|r&~n)+e[15]-660478335|0)<<14|o>>>18)+a|0)&r|a&~r)+e[4]-405537848|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n&a|o&~a)+e[9]+568446438|0)<<5|r>>>27)+n|0)&o|n&~o)+e[14]-1019803690|0)<<9|a>>>23)+r|0)&n|r&~n)+e[3]-187363961|0)<<14|o>>>18)+a|0)&r|a&~r)+e[8]+1163531501|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n&a|o&~a)+e[13]-1444681467|0)<<5|r>>>27)+n|0)&o|n&~o)+e[2]-51403784|0)<<9|a>>>23)+r|0)&n|r&~n)+e[7]+1735328473|0)<<14|o>>>18)+a|0)&r|a&~r)+e[12]-1926607734|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n^o^a)+e[5]-378558|0)<<4|r>>>28)+n|0)^n^o)+e[8]-2022574463|0)<<11|a>>>21)+r|0)^r^n)+e[11]+1839030562|0)<<16|o>>>16)+a|0)^a^r)+e[14]-35309556|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n^o^a)+e[1]-1530992060|0)<<4|r>>>28)+n|0)^n^o)+e[4]+1272893353|0)<<11|a>>>21)+r|0)^r^n)+e[7]-155497632|0)<<16|o>>>16)+a|0)^a^r)+e[10]-1094730640|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n^o^a)+e[13]+681279174|0)<<4|r>>>28)+n|0)^n^o)+e[0]-358537222|0)<<11|a>>>21)+r|0)^r^n)+e[3]-722521979|0)<<16|o>>>16)+a|0)^a^r)+e[6]+76029189|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((a=((a+=((r=((r+=(n^o^a)+e[9]-640364487|0)<<4|r>>>28)+n|0)^n^o)+e[12]-421815835|0)<<11|a>>>21)+r|0)^r^n)+e[15]+530742520|0)<<16|o>>>16)+a|0)^a^r)+e[2]-995338651|0)<<23|n>>>9)+o|0,n=((n+=((a=((a+=(n^((r=((r+=(o^(n|~a))+e[0]-198630844|0)<<6|r>>>26)+n|0)|~o))+e[7]+1126891415|0)<<10|a>>>22)+r|0)^((o=((o+=(r^(a|~n))+e[14]-1416354905|0)<<15|o>>>17)+a|0)|~r))+e[5]-57434055|0)<<21|n>>>11)+o|0,n=((n+=((a=((a+=(n^((r=((r+=(o^(n|~a))+e[12]+1700485571|0)<<6|r>>>26)+n|0)|~o))+e[3]-1894986606|0)<<10|a>>>22)+r|0)^((o=((o+=(r^(a|~n))+e[10]-1051523|0)<<15|o>>>17)+a|0)|~r))+e[1]-2054922799|0)<<21|n>>>11)+o|0,n=((n+=((a=((a+=(n^((r=((r+=(o^(n|~a))+e[8]+1873313359|0)<<6|r>>>26)+n|0)|~o))+e[15]-30611744|0)<<10|a>>>22)+r|0)^((o=((o+=(r^(a|~n))+e[6]-1560198380|0)<<15|o>>>17)+a|0)|~r))+e[13]+1309151649|0)<<21|n>>>11)+o|0,n=((n+=((a=((a+=(n^((r=((r+=(o^(n|~a))+e[4]-145523070|0)<<6|r>>>26)+n|0)|~o))+e[11]-1120210379|0)<<10|a>>>22)+r|0)^((o=((o+=(r^(a|~n))+e[2]+718787259|0)<<15|o>>>17)+a|0)|~r))+e[9]-343485551|0)<<21|n>>>11)+o|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=o+t[2]|0,t[3]=a+t[3]|0}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function o(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function a(t){var e,o,a,i,s,c,u=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)r(l,n(t.substring(e-64,e)));for(o=(t=t.substring(e-64)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(r(l,a),e=0;e<16;e+=1)a[e]=0;return i=(i=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),c=parseInt(i[1],16)||0,a[14]=s,a[15]=c,r(l,a),l}function i(t){var r,n="";for(r=0;r<4;r+=1)n+=e[t>>8*r+4&15]+e[t>>8*r&15];return n}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=i(t[e]);return t.join("")}function c(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t){var e,r=[],n=t.length;for(e=0;e<n-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function l(){this.reset()}return s(a("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(r,n){var o,a,i,s,c=this.byteLength,u=e(r,c),l=c;return n!==t&&(l=e(n,c)),u>l?new ArrayBuffer(0):(o=l-u,a=new ArrayBuffer(o),i=new Uint8Array(a),s=new Uint8Array(this,u,o),i.set(s),a)}}(),l.prototype.append=function(t){return this.appendBinary(c(t)),this},l.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)r(this._hash,n(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},l.prototype.end=function(t){var e,r,n=this._buff,o=n.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(a,o),r=s(this._hash),t&&(r=u(r)),this.reset(),r},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(t,e){var n,o,a,i=e;if(t[i>>2]|=128<<(i%4<<3),i>55)for(r(this._hash,t),i=0;i<16;i+=1)t[i]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),a=parseInt(n[1],16)||0,t[14]=o,t[15]=a,r(this._hash,t)},l.hash=function(t,e){return l.hashBinary(c(t),e)},l.hashBinary=function(t,e){var r=s(a(t));return e?u(r):r},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(t){var e,n,a,i,s,c=(n=this._buff.buffer,a=t,i=!0,(s=new Uint8Array(n.byteLength+a.byteLength)).set(new Uint8Array(n)),s.set(new Uint8Array(a),n.byteLength),i?s:s.buffer),u=c.length;for(this._length+=t.byteLength,e=64;e<=u;e+=64)r(this._hash,o(c.subarray(e-64,e)));return this._buff=e-64<u?new Uint8Array(c.buffer.slice(e-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(t){var e,r,n=this._buff,o=n.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)a[e>>2]|=n[e]<<(e%4<<3);return this._finish(a,o),r=s(this._hash),t&&(r=u(r)),this.reset(),r},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var t,e=l.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},l.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var r,n=t.length,o=new ArrayBuffer(n),a=new Uint8Array(o);for(r=0;r<n;r+=1)a[r]=t.charCodeAt(r);return e?a:o}(t.buff,!0),l.prototype.setState.call(this,t)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(t,e){var n=s(function(t){var e,n,a,i,s,c,u=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)r(l,o(t.subarray(e-64,e)));for(t=e-64<u?t.subarray(e-64):new Uint8Array(0),n=t.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)a[e>>2]|=t[e]<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(r(l,a),e=0;e<16;e+=1)a[e]=0;return i=(i=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),c=parseInt(i[1],16)||0,a[14]=s,a[15]=c,r(l,a),l}(new Uint8Array(t)));return e?u(n):n},l}()},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n);!function(t,e){t.csdn=t.csdn||{},t.csdn.upload=t.csdn.upload||{};let r,n,a="prod",i="external";const s={internal:{test:{hosts:"http://test-oms.csdn.net/api/resource-center"},pre:{hosts:"http://test-oms.csdn.net/api/resource-center"},prod:{hosts:"https://oms.csdn.net/api/resource-center"}},external:{hosts:"https://bizapi.csdn.net/resource-api"}},c=t.location.hostname;0===c.indexOf("test-")?a="test":0===c.indexOf("pre-")&&(a="pre");let u="https://bizapi.csdn.net/resource-api",l=u;function f(){return function(){for(var t=document.cookie.split("; "),e={},r=0;r<t.length;r++){var n=t[r].split("="),o=decodeURIComponent(n[0]),a=decodeURIComponent(n[1]);e[o]=a}return e}().UserName||""}function p(t){a=t.env,i=t.currentLine||i,console.log("setEnvHost env===",a,i),u="external"===i?s[i].hosts:s[i][a||"prod"].hosts,l=u}function h(e){let n,o,i=!0;if(e||!r){if(!csdn.httpGateway)return console.error("csdn.httpGateway 不存在,请引入"),!1;if(e){const e=new AbortController,r=e.signal;return o=t.csdn.httpGateway({appKey:"260196572",appSecret:"t5PaqxVQpWoHgLGt7XPIvd5ipJcwJTU7",env:a},{signal:r}),n=e,i=!0,{exit:i,httpAbortController:n,http:o}}r=t.csdn.httpGateway({appKey:"260196572",appSecret:"t5PaqxVQpWoHgLGt7XPIvd5ipJcwJTU7",env:a}),i=!0}return i}function d(t){return Object.prototype.toString.call(t).match(/\[object (.*?)\]/)[1]}function y(e){e.imageDir;const o=e.appName,a=e.imageTemplate||"";var s;return s="FileList"!==d(e.file)&&"Array"!==d(e.file)?[e.file]:Array.prototype.slice.call(e.file),p(e),function(e){return Promise.all(e.map(e=>function(e){return new Promise((function(s,c){if(!h())return;const l="internal"===i?"/v1/internal/image/direct/upload/signature":"/v1/image/direct/upload/signature";r.post(u+l,{imageTemplate:a,appName:o,imageSuffix:e.type.split("/")[e.type.split("/").length-1]},{headers:{common:{Accept:"application/json, text/plain, */*"},"Content-Type":"application/json;charset=UTF-8"}}).then(r=>{if(200===r.code&&r.data){var o=r.data,a=new FormData;let i={key:""+o.filePath,policy:o.policy,signature:o.signature,callbackBody:o.callbackBody,callbackBodyType:o.callbackBodyType};"obs"===o.provider?(i.callbackUrl=o.callbackUrl,i.AccessKeyId=o.accessId):(i.callback=o.callbackUrl,i.OSSAccessKeyId=o.accessId);for(const t in o.customParam)i["x:"+t]=o.customParam[t];i.file=e;for(const t in i)Object.hasOwnProperty.call(i,t)&&a.set(t,i[t]);!function(e,r,o,a){if(!function(){let e=!0;if(!n){if(!csdn.axios)return console.error("csdn.axios 不存在,请引入"),!1;n=t.csdn.axios(),e=!0}return e}())return;n.post(r,e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{o(t)}).catch(t=>{a(t)})}(a,o.host,s,c)}else c(r)}).catch(t=>{c(t)})}))}(e)))}(s)}function g(t){var e=unescape(encodeURIComponent(t));return function(t,e,r){var n,o="";for(n=0;n<=e-3;n+=3)o+=r.charAt(t.charCodeAt(n)>>>2),o+=r.charAt((3&t.charCodeAt(n))<<4|t.charCodeAt(n+1)>>>4),o+=r.charAt((15&t.charCodeAt(n+1))<<2|t.charCodeAt(n+2)>>>6),o+=r.charAt(63&t.charCodeAt(n+2));e%3==2?(o+=r.charAt(t.charCodeAt(n)>>>2),o+=r.charAt((3&t.charCodeAt(n))<<4|t.charCodeAt(n+1)>>>4),o+=r.charAt((15&t.charCodeAt(n+1))<<2),o+="="):e%3==1&&(o+=r.charAt(t.charCodeAt(n)>>>2),o+=r.charAt((3&t.charCodeAt(n))<<4),o+="=",o+="=");return o}(e,e.length,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")}let m,b;y.addWatermark=function(t){let{url:e,watermark:r,width:n}=t,o=function(t){var e=0;if(t.length>0)for(var r=0;r<t.length;r++){t.charAt(r).match(/[\u4E00-\u9FFF]/)&&e++}return e}("CSDN @"+r),a=("CSDN @"+r).length+o;r=g("CSDN @"+r);let i=Math.round((n-32)/2/a)<=0?1:Math.round((n-32)/2/a);return i=i>20?20:i,`${e}${`?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_${r},size_${i},color_FFFFFF,t_70,g_se,x_16`}`},y.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),r=t.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),o=new Uint8Array(n),a=0;a<e.length;a++)o[a]=e.charCodeAt(a);return new Blob([n],{type:r})};let v,A=[];const _=[];t.csdn.upload.uploadImg=y,t.csdn.upload.transferImg=function(t){const{exit:e,httpAbortController:r,http:n}=h(!0);if(p(t),!e)return;const o=new Promise((function(e,r){const o="internal"===i?"/v1/internal/image/storage":"/v1/image/external/storage";n.post(u+o,t,{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(t=>{200===t.code&&t.data?e(t):r(t)}).catch(t=>{r(t)})}));return o.abortHttpRequest=function(){r.abort()},o},t.csdn.upload.uploadVideo=function(t){return p(t),new Promise((e,n)=>{m=t.bizNo,b=t.title;const a=t.file,s=a.name.substring(a.name.lastIndexOf(".")+1).toLowerCase(),c=a.name;if(!["mp4","ts","mov","mx","mpg","flv","wmv","avi","m4v","f4v","mpeg","3gp","asf","mkv"].includes(s))return console.error("请上传视频！"),void n("请上传视频！");t.fileName=c,function(t){const{appName:e,videoSuffix:n,videoDir:a=null,fileName:s,file:c}=t;let u=Math.ceil(c.size/5242880);return v=[],new Promise((function(n,p){h()&&function(t,e){var r,n=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,a=Math.ceil(t.size/2097152),i=0,s=new o.a.ArrayBuffer,c=function(t){s.append(t.target.result),++i<a?l():(r=s.end(),e(r))},u=function(){console.log("文件读取失败！")},l=function(){var e=new FileReader;e.onload=c,e.onerror=u;var r=2097152*i,o=r+2097152>=t.size?t.size:r+2097152;e.readAsArrayBuffer(n.call(t,r,o))};l()}(c,(function(o){console.log(o);const h="internal"===i?"/v1/internal/video/direct/upload/signature":"/v1/video/direct/upload/signature";r.post(l+h,{videoDir:a,appName:e,fileName:s,md5:o,videoSuffix:c.name.substring(c.name.lastIndexOf(".")+1).toLowerCase()},{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(e=>{if(200===e.code&&e.data){var o=e.data;const a=o.bucketName,h=o.filePath;!function(t,e){if(A.includes(t))return void(e&&e());var r=document.createElement("script");r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,e&&e(),A.push(t))}:r.onload=function(){e&&e(),A.push(t)};r.src=t,document.getElementsByTagName("head")[0].appendChild(r)}("https://g.csdnimg.cn/lib/huaweicloud-sdk-browserjs-obs/3.24.3/esdk-bos-browserjs.min.js",(function(){var e=new ObsClient({access_key_id:o.accessId,secret_access_key:o.signature,security_token:o.securityToken,server:o.host||"https://obs.cn-north-4.myhuaweicloud.com"});e.initiateMultipartUpload({Bucket:a,Key:h,ContentType:"text/plain",Metadata:{property:"property-value"}},(function(o,d){if(o)console.error("Error--\x3e"+o);else if(d.CommonMsg.Status<300&&d.InterfaceResult){const o=d.InterfaceResult.UploadId,y=c.size%5242880;let g=8;const A=(d,w)=>{d>u||e.uploadPart({Bucket:a,Key:h,PartNumber:d,UploadId:o,SourceFile:c,PartSize:u===d?y:5242880,Offset:5242880*(d-1)},(function(c,y){if(c)console.log("Error--\x3e"+c),console.log("Error--\x3en:"+d),_.push(d),console.log("二次上传n:"+d),A(d,!0);else if(console.log("Status--\x3e"+y.CommonMsg.Status),y.CommonMsg.Status<300&&y.InterfaceResult){if(g++,A(g),v.push({PartNumber:d,ETag:y.InterfaceResult.ETag}),w&&_.includes(d)&&(console.log("二次上传n成功:"+d),_.splice(_.indexOf(d),1)),t.videoProcessFn&&t.videoProcessFn(v.length,u),console.log(`上传进度${v.length}/${u}`),v.length===u){console.timeEnd("分段上传耗时");const c=v.sort((function(t,e){return t.PartNumber-e.PartNumber}));console.log("升序列表sortParts",c),e.completeMultipartUpload({Bucket:a,Key:h,UploadId:o,Parts:c},(function(e,o){if(e)console.log("Error--\x3e"+e),p(e);else{console.log("Status1--\x3e"+o.CommonMsg.Status),console.log("Status1--\x3e",o);const e={bucketName:a,objectName:h,fileName:s};if(t.manualSave)return void r.post(l+("internal"===i?"/v1/internal/video/video2Media":"/v1/video/video2Media"),e,{headers:{common:{Accept:"application/json, text/plain, */*"},"Content-Type":"application/json;charset=UTF-8"}}).then(t=>{console.log("上传结束",t),200===t.code?n(t):p(t)});const c={bizNo:m,author:f(),title:b||s.slice(0,30),valid:1,display:0,bucketName:a,objectName:h,fileName:s};r.post(l+"/v1/video/saveVideo",c,{headers:{common:{Accept:"application/json, text/plain, */*"},"Content-Type":"application/json;charset=UTF-8"}}).then(t=>{console.log("上传结束",t),200===t.code?n(t):p(t)})}}))}}else console.log("Error--\x3en:"+d),_.push(d),console.log("二次上传n:"+d),A(d,!0)}))};console.time("分段上传耗时");for(let t=1;t<=g;t++)A(t)}}))}))}else p(e)}).catch(t=>{p(t)})}))}))}(t).then(t=>{console.log("getVideoServiceInfo res",t),e(t)}).catch(t=>{n(t)})})}}(window,jQuery)}])}));